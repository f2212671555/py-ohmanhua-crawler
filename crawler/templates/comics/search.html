<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="referrer" content="no-referrer" />
        <title>搜尋 - {{ comic_name }}</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
    </head>
    <style>
      .card-body{
            text-align: center;
        }
        .circle,.left-circle{
            position: fixed;
            background-color: white;
            opacity: 0.5;
            height: 80px;
            width: 80px;
            left: 50%;
            margin: +40px 0 0 -47px;
            border-radius: 50%;
            z-index: 999;
            text-align: center;
        }
        .label-circle{
            padding: 25px 0px;
        }
    </style>
    <body>
      <div class="m_nav">
        <div class="c_o circle"><label class="label-circle">TAP</label></div>
      </div>
      <div class = "center">
        {% for comic in comics %}
        <div class="card">
            <img src="{{ comic.img_url }}" class="card-img-top">
            <div class="card-body">
              <h5 class="card-title">{{ comic.name }}</h5>
              <button onclick="window.location.href='/app/show/{{ comic.name }}{{ comic.href }}{{ version }}'" class="btn btn-primary">GO</button>
            </div>
          </div>
        {% endfor %}
      </div>
    </body>
    <script>

      function go_home() {
          window.location.href='/app'
      }

      var status = 0
        $(".circle").mouseup(function(){
            if (status == -1) {
                return
            }
            status = -1

            var ori_top = 40
            var step_top = 120
            var tar_top = ori_top + step_top
            
            $(".circle").animate({"top":tar_top}, "slow",function () {
                $(".m_nav").append(`<div onclick="go_home()" class="c_o left-circle" style="top: ${tar_top}px;"><label class="label-circle">回首頁</label></div>`)

                $('.c_o').css("opacity",0.8)

                var p_step = "+=" + step_top
                var n_step = "-=" + step_top

                $(".left-circle").animate({"left":n_step}, "slow")

                var timeoutID = window.setTimeout(function () {
                    $(".left-circle").animate({"left":p_step}, "slow",function (params) {
                        $(".left-circle").remove()
                        $(".circle").animate({"top":ori_top}, "slow")
                        $('.c_o').css("opacity",0.5)
                        status = 0
                    })
                }, 3400);
            });
           
        });
    </script>
</html>